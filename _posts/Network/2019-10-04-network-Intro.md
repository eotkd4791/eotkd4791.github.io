---
title: "네트워크"
categories:
  - Network
tags:
  - Network
comments:
  - true
---


## 네트워크 (Network)

- 정보와 자원의 공유를 위해서 서로 연결하는 것

---

## 인터넷 (Internet)

- 여러 개의 네트워크를 묶은 것

- <span style="color:cyan"><b>하나의 프로토콜 (TCP/IP)만을 사용</b></span>

- 프로토콜 : 통신규약 -> 네트워크 언어라고 볼 수 있다.

- 인트라넷 : 내부의 네트워크, **TCP/IP**라는 프로토콜을 사용한다 인터넷과 차이가 없지만, 사용이 허가된 사람만 접속 가능

---

## LAN (Local Area Network)

- 어느 한정된 공간에서 네트워크를 구성

- WAN : Wide Area Network -> 멀리 떨어진 지역을 서로 연결하는 경우에 사용

---

## 이더넷 (Ethernet)

- <span style="color:yellow">Ethernet : 네트워킹의 한 방식</span>

- 우리나라에서 사용하고 있는 네트워킹의 방식 대부분

- <span style = "color:red">CSMA/CD</span> 라는 프로토콜을 사용한다.

- Carrier Sense Multiple Access / Collision Detection

1. <span style="color:green"><b>지금 네트워크 상에 통신이 일어나고 있는지 확인 -> Carrier Sense를 감지</b></span>

2. <span style="color:skyblue"><b>누군가가 네트워크 상에서 통신을 하고 있으면 대기한다.</b></span>

3. 그러다가 통신이 없어지면 데이터를 네트워크로 보낸다.

4. 만약 네트워크 상에서 두 개 이상의 PC나 서버가 눈치를 살피고 있다가 동시에 네트워크 상에 데이터를 실어보내는 경우 ->다중 접근 (Multiple Access)

5. 2개 이상의 장비가 데이터를 보내려다가 충돌이 발생하는 부딪히는 경우 -> 충돌 (Collsion)

6. 이더넷에서 데이터를 네트워크에 실어서 보내고 나서도 충돌이 발생하지 않았는지를 잘 점검해야한다->충돌 감지(Collision Detection)

7. 충돌이 발생하면 데이터를 전송했던 PC들은 랜덤한 시간 동안 기다렸다가 다시 데이터 전송

8. 충돌이 발생하면 재전송을 반복하다가 15번 이상 충돌이나면 그냥 포기한다.

---

## 토큰링 (TokenRing)

- 이더넷과 다르게 자기 맘대로 데이터를 보내는 것이 아니라 한 네트워크 안에서 오직 한 PC, 즉 <span style = "color:skyblue">토큰을 가지고 있는 PC만이 네트워크에 데이터를 실어 보낼 수 있다.</span>

- 데이터를 다 보내고 나면 바로 옆 PC에 토큰을 건네주게 된다.

- <span style="color:lime">토큰링에서는 당연히 충돌이 발생하지 않는다.</span>

- 하지만 내가 바로 보내야할 데이터가 있고, 다른 PC들은 보낼 데이터가 하나도 없다고 하더라도 차례가 올 때 까지 계속 기다려야 한다.

---

## UTP케이블 (Unshielded Twisted-Pair Cable)

- STP케이블 Shielded Twisted-Pair -> 케이블 주위를 어떤 절연체로 감싸서 만든 것

- 우리는 보통 UTP를 쓴다 STP는 좀 더 비싸고 성능이 좋다.

- STP는 주로 토큰링쪽에 많이 쓰인다.

- 카테고리 1: 전화망

- 카테고리 2: 최대 4Mbps 속도로 전송할 수 있다.

- 카테고리 3: 10 Base T 네트워크에 사용되는 케이블 UTP케이블

- 카테고리 4: 토큰링 네트워크에서 사용되는 케이블

- 카테고리 5: 최대 전송 속도 100Mbps를 지원하는 Fast Ethernet용

- 카테고리 6: 가장 많은 종류

- 카테고리 7: 10Gbps 속도 이상을 지원하기 위한 케이블 앞으로 많이 사용될 예정

- 10 Base T에서 10이라는 숫자는 속도를 나타낸다. 10M의 속도

- Baseband와 Broadband가 있는데 베이스밴드는 디지털 방식이고, 브로드밴드는 아날로그 방식이다.

- 10 Base 5에서 맨 뒤에 나오는 숫자는 최대 통신거리 최대 500미터까지 가능하다는 말

- 10 Base 2 : 10Mbps속도로 통신이 가능하고, 최대 200미터까지 전송이 가능한 케이블 (Thin케이블), BNC커넥터

- 10 Base 5 : 10Mbps,500미터 (Thick케이블 or Yellow케이블)

- 1000 Base T : 1000Mbps속도로 UTP케이블을 통해 전송, 최대거리는 100미터 카테고리 5케이블을 사용한다. 기가비트용 UTP케이블이 카테고리 5로 결정되었다. 이렇게 구성되기 위해서는 4페어(8가닥)를 모두 사용

---

## 맥 주소 (MAC Address)

- Media Access Control 미디어 액세스 컨트롤

- 통신을 위해서는 서로를 구분할 일종의 주소가 필요함 -> MAC주소

- TCP/IP통신을 하고 통신을 위해서 IP주소를 사용하고, MAC주소도 사용한다.

- <span style = "color:lime">ARP(Address Resolution Protocol)를 통해서 IP주소를 MAC주소로 바꿈</span>

- Physical Address 물리적 주소 = 맥 어드레스 // Logical Address 논리적 주소

- 통신하고 싶은 PC의 MAC주소를 알아내기 위해서 모든 PC에 메시지를 보냄(ARP)

- MAC주소를 알아낸 후에 통신 시작

- 통신하고 싶은 PC가 한 네트워크 상에 없으면 라우터는 자신의 맥 주소를 보내준다.

- 따라서 라우터의 맥주소로 정보를 보내고, 라우터는 자기 네트워크 안에 있는 PC의 맥주소를 찾아서 해당 PC의 맥주소를 전달한다.

- 맥주소는 48비트(6옥텟)의 주소를 갖게되는데, 이는 네트워크 장비나 랜카드에 고정되어 있는 주소이며, 유일한 주소이다. 하드웨어 주소라고도 한다. 하이픈(-)이나 콜론(:),점(.)으로 구분되기도 한다 이진수는 너무 길고 복잡하기 때문에 16진수로 표시한다. 이진수 4자리를 묶어서 16진수 한 자리를 만든다.

- 이 때 주소에서 앞쪽 6개(24bits)의 16진수는 벤더(생산자)를 나타내고, 이것을 OUI(Organizational Unique Identifier)라고 한다 이 코드는 메이커에 따라 다르다.

- 나머지 뒤에 오는 6자리 수(24bits)가 메이커에서 각 장비에 분해하는 Host Identifier 시리얼 넘버이다.

---

## 유니캐스트, 브로드캐스트, 멀티캐스트

1. 유니캐스트(Unicast)

- 편지를 보내는 방식과 같다.

- 어떤 PC가 유니캐스트 프레임을 뿌리게 되면, 어차피 로컬 이더넷의 기본 성격이 붙어있는 <span style = "color:yellow">모든 PC들에게 정보를 뿌리는 Shared 방식</span>이기 때문에 그 로컬 네트워크 상에 있는 모든 PC들은 일단 이 프레임을 받아들여서 랜카드에서 자신의 맥주소와 비교하게 된다(여기서 자신의 맥주소 = 랜카드의 맥주소)

- <span style="color:lime">자신의 랜카드 맥주소와 목적지 맥주소가 서로 다른 경우는 바로 그 프레임을 버린다.</span> -> 이러한 특성으로 인해서 해당 PC의 CPU까지는 영향을 주지 않기 때문에 PC의 성능이 저하되는 일은 발생하지 않는다.

- 만약 목적지 주소가 자신의 맥주소와 같으면 랜카드는 프레임을 CPU로 올려 보낸다.

- 현재 네트워크 상에서 가장 많이 사용되는 통신 방식

- 특정 목적지의 주소 하나만을 가지고 통신한다.

- 목적지 주소가 아닌 다른 PC들의 CPU성능을 저하시키지는 않는다 ->자신의 맥주소가 아니라고 판단하면 랜카드가 프레임을 버리기 때문,,


2. 브로드캐스트(Multicast)

- 로컬 랜에 붙어 있는 모든 네트워크 장비들에게 보내는 통신

- <span style = "color:yellow">로컬 랜 : 라우터에 의해서 구분된 공간, 즉 브로드캐스트 도메인이라고 하는 공간을 뜻함</span>

- 브로드캐스트 도메인 : 방송을 하면 들리는 영역

- 통신의 대상이 특정한 어떤 한 네트워크 장비가 아니고 내가 살고 있는 네트워크 안의 모든 네트워크 장비들에 통신할 때 쓰기 위한 방식 ex)동네 이장님 마이크 방송

- 자기가 받기 싫다고 해서 받지 않는 것이 아니라 무조건 받는 것

- <span style="color:pink"><i>브로드캐스트 주소는 정해져 있다. (맥주소의 경우 FFFFFFFFFFFF)</i></span>

- 자신의 맥주소와 달라도 버리지 않는다 CPU가 이 패킷을 알아서 처리

- 네트워크 상의 전체 노드로 뿌려지기 때문에 전체적인 트래픽 증가, 모든 랜카드가 이 패킷을 CPU로 전송하고, CPU는 하던 일을 멈추고 또 다른 일을 해야하며, 이에 따라 전체 PC성능도 떨어지게 된다.

- <span style = "color:yellow">상대편의 맥주소를 모를 때, 맥주소를 알아내기 위해서 하는 동작이 바로 ARP이며 이것이 브로드캐스트이다.</span>

- ex)우리 동네에 사는 모든 사람들에게 이 IP주소 가진 사람 누구니 하고 브로드캐스트를 보내면 그 IP주소를 가진 사람이 맥주소를 보낸다 이 과정을 ARP라고 한다.

- 라우터끼리 정보를 교환하거나 다른 라우터를 찾을 때, 서버들이 자신이 어떤 서비스를 제공한다는 것을 알릴 때 사용

- 꼭 필요하지만 많아지면 문제가 된다.

- 브로드캐스트가 발생하면 PC가 자신의 맥주소와 달라도 프레임을 버리지 않고 CPU에게 전달하면서 <span style="color:orange"><b>인터럽트</b></span>를 건다.

>유니캐스트는 아무리 많은 패킷을 발생시켜도 CPU의 성능은 저하되지 않지만, 브로드캐스트는 패킷을 많이 발생시킨 경우 그 패킷의 수가 많아질수록 CPU성능이 떨어진다.

3. 멀티캐스트(Multicast)

- 전체가 아닌 특정 다수에게 정보를 보낼 때 사용한다.

- 유니캐스트를 사용하는 경우: 같은 데이터를 PC갯수 만큼 반복해서 보내야하기 때문에 트래픽을 가중시키게 됨

- 브로드캐스트를 사용하는 경우: 모든 사용자에게 보내기 때문에 유니캐스트처럼 반복해서 보내지는 않지만, 이 정보를 받을 필요가 없는 나머지 PC에게도 보내게 된다 따라서 PC성능 저하를 야기한다.

- 위의 두가지 경우에서 발생하는 문제를 해결하기 위해 "멀티캐스트"를 사용한다.

- 정보를 받아야 하는 특정 다수에게 정보를 전송한다. 하지만, <span style="color:red">라우터나 스위치에서 이 기능을 지원해 주어야만 사용 가능</span>

---

## OSI 7 Layer (Open Systems Interconnection 7 Layer)

- 통신에 관한 국제적인 표준기구인 <span style="color:skyblue"><b>ISO</b></span>(International Organization for Standardiztion)에서 만들었다.

- 통신이 일어나는 과정을 7단계로 나눔

1. 응용 계층 Application Layer

2. 표현 계층 Presentation Layer

3. 세션 계층 Session Layer

4. 전송 계층 Transport Layer
   - 플로 컨트롤, 에러 복구 -> 에러 복구를 위해 패킷을 재전송하거나 플로를 조절해서 데이터가 정상적으로 전송되게 함
   - TCP, UDP가 이 계층에 속함

   - 통신 단위 : 세그먼트

5. 네트워크 계층 Network Layer

   - 데이터를 목적지까지 안전하고 빠르게 전달 -> "라우팅" 이라고 한다.

   - 경로를 선택하고, 주소를 정하며, 경로에 따라 패킷을 전달

   - 통신 단위 : 패킷

   - 장비 : 라우터

6. 데이터 링크 계층 Data Link Layer

   - 물리 계층을 통하여 송/수신 되는 정보의 오류와 흐름을 관리하여 안전한 정보의 전달을 수행할 수 있도록 도와줌

   - 오류 찾아주고 재전송, 맥주소를 가지고 통신을 할 수 있게 해줌

   - 통신 단위 : 프레임

   - 장비 : 브리지, 스위치

7. 물리 계층 Physical Layer

   - 전기적, 기계적, 기능적인 특성을 이용해서 통신 케이블로 데이터를 전송

   - 통신 단위 : 비트 -> 1,0으로 on & off를 나타낸다.

   - 장비 : 통신 케이블, 리피터, 허브


**계층을 나눈 이유**

- 데이터가 어떻게 날아가는지 보기 쉬움

- 문제를 해결하기가 편리함

- 여러 회사 장비를 써도 네트워크가 이상 없이 돌아감

**헤더**

>비행기 탑승/하기 절차에 비유한다.

1. 짐(보내고자 하는 데이터 Info)을 부친다.

2. 짐을 부친 표시(헤더 A)가 Info에 붙는다. -> AInfo를 하나의 정보라고 보고 다음 과정 진행

3. 탑승 수속(헤더 B)을 한다. -> BAInfo

4. 비행(목적지인 PC로 이동)한다.

5. 입국 수속(헤더 B를 제거)한다. -> AInfo

6. 짐을 찾는다. (헤더 A를 제거) -> "Info"


**자신이 생각하는 전송 속도가 제대로 나오지 않은 건 이런 여러 가지 정보가 원래 데이터에 붙기 때문**

---

## 프로토콜 (Protocol)

>통신 규약, 컴퓨터끼리 서로 통신하기 위해서 꼭 필요한 서로 간의 통신 규약 또는 통신 방식에 대한 약속. <span style="color:red"><b>프로토콜이 서로 같을 때에만 통신이 가능</b></span>

- 모든 PC는 인터넷을 사용하기 위해서 TCP/IP라는 프로토콜을 쓴다.

- <span style="color:green"><b>인터넷에서는 쓰이는 프로토콜 "TCP/IP"</b></span>

- IPX (Internetwork Packet eXchange) 등 수많은 프로토콜이 있다.

---

## TCP/IP (Transmission Control Protocol / Internet Protocol)

- 각각의 네트워크에 접속되는 호스트들은 고유의 주소를 가지고 있어서 자신이 속해 있는 네트워크뿐만 아니라 다른 네트워크에 연결되어 있는 호스트까지도 서로 데이터를 주고 받을 수 있도록 만들어져 있다.

- 이때 사용하는 호스트들의 주소는 InterNIC(Internet Network Information Center)라는 단체에서 관리/분배

- IP계층을 사용하면서 그 위에 사용하는 프로토콜을 TCP로 사용한다는 의미

- IP는 TCP/IP계층 구조에서는 인터넷 계층에 속하는데, OSI 7계층으로는 네트워크 계층에 속하고, TCP는 TCP/IP계층 구조에서도 전송 계층에 속하는데, OSI 7계층에서도 전송 계층에 속함

*TCP/IP Layer*

1. 응용 계층 (Telnet, FTP, HTTP..)

2. 전송 계층 (TCP,UDP)

3. 인터넷 계층 (IP)

4. 네트워크 액세스 계층 (Network Driver, Hardware)

---

## IP주소

- IP주소는 전 세계에서 유일하게 나만 가짐

- IP주소는 한정되어 있고, 대부분을 사용해버림 -> 내부 네트워크에서는 공인되지 않은 IP주소 사용, 인터넷으로 나갈 때만 공인 주소(유일한 IP주소)를 가지고 나가는 NAT(Network Address Translation)방식 or 동일한 IP주소를 가지고 여러 명이 인터넷에 접속하면서 포트 넘버만을 바꾸는 PAT 등이 사용됨

- 전 세계에 이런 공인 주소를 관리/분배 하는 기관 -> NIC(Network Information Center)

- IP주소는 네 자리의 십진수이고 중간에 점(.)으로 구분한다.

- 0 ~ 255까지 가능.. why? 십진수 한 자리당 8자리의 이진수(총 32자리의 이진수)로 만들어졌다. -> 8자리의 이진수로 만들 수 있는 가장 큰수 = 255,,

- 2의 32승개 만큼 있는 IP주소도 이제 얼마 안 남아있다 -> 해결책 : IPv6,,

- 기존의 IPv4 버전은 4개의 옥텟으로 이루어져 있는데 IPv6은 6개의 옥텟으로 이루어져서 128개의 이진수로 이루어져 있다.

---

## DHCP (Dynamic Host Configuration Protocol)

- <span style="color:yellow">IP주소를 자동으로 배정 </span>

- 네트워크에서 모든 IP주소는 아래 있는 DHCP 서버가 가지고 있다가 클라이언트 PC가 켜지면서 네트워크에 브로드캐스트를 뿌림

- DHCP 서버는 그 요청을 듣고 클라이언트에 자신이 관리하는 IP주소 중 하나를 준다.

- DHCP는 PC마다 하나하나 IP주소를 미리 지정해 놓지 않고 DHCP 서버가 그 네트워크에 필요한 IP주소를 전부 가지고 있다가 IP주소를 요구하는 PC에는 그때그때 자동으로 분배해주는 방식, 다 쓰고 난 IP주소는 회수한다.

---

## 랜카드 (NIC : Network Interface Card)

- 랜에 접속하기 위한 카드

- 유저의 데이터를 케이블에 실어서 허브나 스위치, 혹은 라우터 등으로 전달해주고 자신에게 온 데이터를 CPU에게 전달해주는 역할 수행

- 사용하는 환경에 따라 이더넷용, 토큰링용, FDDI, ATM용 랜카드로 구분
  
- 어디에 설치하는가에 따라 데스트탑용, 노트북용(PCMCIA), 프린터 포트용 랜카드로 구분

  - PC의 버스 방식에 맞춰 설치해야 한다. 

- 속도에 따라 구분

  - 랜카드에 따라 전송 속도가 정해져 있지만, 실제 상황에서는 Overhead가 있기 때문에 예상 속도보다는 느리다.

  - Overhead : 어떤 처리를 하기 위해 들어가는 <span style="color:red"><b>간접적인</b></span> 처리 시간/메모리

- 케이블 종류에 따라 구분

  - 예전엔 주로 AUI타입 커넥터나 BNC용 커넥터가 있는 방식을 사용함 (UTP 케이블이 없던 때)

  - AUI나 BNC, UTP용 커넥터를 모두 골라서 연결할 수 있는 콤보 방식을 많이 쓰기도 했다.

  - 최근에는 UTP타입을 쓰는 것이 일반적.

- 랜카드 정보

  - IRQ (인터럽트 요청)

  - Base Memory (메모리 범위)

  - 목적지 주소가 자신의 랜카드 맥주소와 일치하는 데이터가 들어 왔을 때 랜카드는 컴퓨터의 CPU에 자기가 가지고 있던 IRQ를 이용해서 인터럽트를 건다 -> CPU에 하던 일을 멈추고 자신의 일을 해달라고 요청 -> 이 데이터에 어떤 서비스를 할 것인지를 미리 정해놓는 장소(Base Memory)로 이동해서 작업을 시작.

  - 만약 이 IRQ가 다른 서비스를 위해 이미 예약된 번호였다면 랜카드를 인식하지 못함

---

## 허브

- 직사각형의 상자에 구멍이 뚫려있는 모양으로 되어 있다. (구멍 갯수 = 포트)

- 허브는 서로 연결하면 1대의 허브처럼 동작한다.(연결되어 있는 PC들이 서로 통신할 수 있게 해주는 역할이 있음)

- <span style="color:yellow"><b>허브가 하는 일</b></span> : 멀티포트, 리피터의 역할을 수행.

  - 멀티포트 : 말 그대로 포트가 많이 붙어있다는 뜻 -> 한 포트로 들어온 데이터를 나머지 모든 포트로 뿌려준다.

  - 리피터 : 들어온 데이터를 그대로 재전송 -> 네트워크에서 데이터를 전송하는 경우 케이블에 따라서 전송 거리에는 제약이 있다. 따라서 리피터가 중간에서 들어온 데이터를 다른 쪽을 전달해 주는 역할을 수행한다.(리피터를 이용하면 두 장비는 케이블을 통해서 통신이 가능)

  - 허브로 연결되어 있는 PC들이 통신을 할 때 데이터를 전송한 포트(PC)를 제외하고 나머지 포트로 그 데이터를 뿌림

  - 데이터가 자신에게 온 건지 아닌지를 알아내는 역할을 <span style="color:lime">랜카드</span>가 수행한다. -> <b>들어온 프레임의 <span style="color:red">목적지 맥주소</span>와 <span style="color:blue">자신의 맥주소</span>를 비교,, -> 자기 것이 아니면 버린다. / 자신에게 온 데이터는 랜카드가 CPU에 인터럽트를 걸어서 해당 데이터 처리를 요청</b>

  - 이더넷 허브이기 때문에 CSMA/CD의 적용을 받는다.

  - 하나의 PC가 허브에 데이터를 보내고 있을 때 또 다른 PC가 데이터를 보내려고 하면 충돌 발생

  - 같은 허브에 연결되어 있는 모든 PC들은 모두 같은 "콜리전 도메인"이라고 한다.

  - 허브의 종류에는 인텔리전트 허브와 더미 허브(일반), 세미 인텔리전트 허브가 있다. 인텔리전트 허브란 NMS(네트워크 관리 시스템)를 가지고 있는데 이 NMS에서 모든 데이터를 분석하고 제어할 수 있다. 대형 네트워크에 쓰인다. (작은 규모의 네트워크에서는 비싼 값 때문에 비효율적)

  - 인텔리전트 허브는 콜리전이 발생하여 모든 PC가 통신 불가능 상태 일 떄 자동으로 충돌이 발생한 PC가 연결된 포트를 찾아내어 자동으로 isolation하여 나머지 PC들을 통신 가능한 상태로 만들어 준다. -> <span style="color:yellow"><b>"Auto Partition"</b></span> 이라고 한다. 요즘은 더미 허브에도 이 기능이 탑재된다.

---

## 한계

- 허브에 연결되어 있는 PC들은 하나의 콜리전 도메인 안에 있기 때무에 어느 한순간에는 한 PC만 데이터를 보낼 수 있다.

- 허브 두 대를 연결하면 콜리전 도메인이 두 배로 커지기 때문에 콜리전에 한번 발생하면 한 콜리전 도메인 내에 있는 모든 PC들이 영향을 받는다.

---

## 스위치

- 콜리전 도메인이 너무 커지는 상황을 조심해야 한다. 허브에 연결된 PC중 한 PC에 충돌이 발생하면 콜리전 도메인 내에 있는 모든 PC가 CSMA/CD방식의 특성 때문에 영향을 받는다.

- 이러한 문제를 해결하기 위해서 브릿지나 스위치를 이용하여 콜리전 도메인을 나눠 준다.

- 속도가 빠르고 허브에 비해서 데이터를 처리하는 방법이 우수하며, 데이터의 전송 에러 등을 복구해 주는 기능 등 여러 가지 기능을 갖고 있다.

- <span style="color:blue"><b>허브</b></span> (1차선 도로)  <span style="color:red"><b>VS</b></span>  <span style="color:blue"><b>스위치</b></span> (포트 수 만큼의 차선)

- 허브와 스위치 각각 장점과 단점을 지닌다. 허브는 데이터 처리 속도가 일반적으로 스위치에 비해 빠르다. 

- 허브 : 모든 PC가 서버와 통신을 하려고 하지만, 허브는 연결된 모든 장비가 하나의 콜리전 도메인 안에 있기 때문에 어느 한 순간에는 하나만 통신이 가능해서 나머지 모든 PC들은 기다려야 함

- 스위치 : 포트별로 콜리전 도메인을 나누기 때문에 1번 PC가 2번 PC와 통신하는 도중에도 3번 PC는 4번 PC와 통신이 가능한 구조 ,, 모든 PC가 하나의 서버와 통신을 하는 경우 스위치가 콜리전 도메인을 나누었다 하더라도 서버와의 통신은 어느 한순간에는 하나의 PC만 가능하게 됩니다. -> 서버가 한 대밖에 없기 때문.

--- 

## 브릿지

- 브릿지 : 허브로 연결된 PC들 간의 통신에는 문제가 생길 수 있음. CSMA/CD 방식에 의해서 허브에 연결된 PC들 중 두 PC만 통신을 하게 되면 그 순간 다른 PC의 통신이 불가능.

- 규모가 큰 네트워크(큰 콜리전 도메인)에서는 콜리전이 치명적인 문제가 된다. 네트워크 규모가 커지고 통신량이 증가할 때 브릿지를 이용하여 콜리전 도메인을 나누어 주어야 한다.

- 브릿지는 허브로 만들어진 콜리전 도메인 사이를 반으로 나누고 중간에 다리를 놓는다. 다리 상부는 상부끼리, 다리 하부는 하부끼리 동시에 통신이 가능하다. 또한, 다리 상부에 있는 PC와 다리 하부에 있는 PC가 통신하고자 하는 경우에만 다리를 건너서 통신이 이뤄짐

- 브릿지는 맥주소를 저장하는 자신의 테이블을 보고 목적지 PC의 맥주소가 다리 건너인지 아닌지 확인한다. 

<span style="color:yellow"><b>-브릿지가 하는 일 5가지-</b></span>
1. Learning 배운다.
2. Flooding 모르면 들오온 포트를 제외한 다른 모든 포트로 뿌린다.
3. Forwarding 해당 포트로 건네준다.
4. Filtering 다른 포토르는 못 건너가게 막는다.
5. Aging 나이를 먹는다.

- Learning : 브릿지(or 스위치)는 자신의 포트에 연결된 PC가 통신을 위해서 프레임을 내보내면 이 PC의 맥주소를 읽어서 자신의 테이블에 저장한다. 이더넷의 기본 성질에 따라 프레임을 보낸 PC와 같은 세그먼트 내에 있는 모든 장비는 그 프레임을 받게 되는데, 이 때 브리지는 이 프레임을 받아서 이 프레임이 어디서 출발한 것인지 확인한다.(출발지의 맥주소 확인) 브리지가 관리하는 테이블에 이 정보를 써 넣는다.

- Flooding : 들어온 포트를 제외한 나머지를 모든 포트로 뿌리는 것을 의미한다. 브릿지는 어떤 프레임에 대해서 브릿지를 열어줄 것인가 or 못 건너게 막을 것인가를 브릿지 테이블을 보고 결정한다. 들어온 프레임이 찾아가는 주소(맥주소)가 테이블에 없다면 해당 프레임을 발생시킨 포트(PC)를 제외한 나머지 포트에 이 프레임을 뿌린다. 브로드캐스트, 멀티캐스트 또한 목적지가 다수의 PC이기 때문에 Flooding이 발생한다.

- Forwarding : 브릿지가 목적지의 맥주소를 자신의 테이블에 가지고 있고, 이 목적지가 출발지의 맥주소와 다른 세그먼트에 존재하는 경우에 발생한다. 그 목적지가 어딘지 알고 다리를 건너가야만 하는 경우에 Forwarding이 발생한다. Flooding과 다르게 오직 해당 포트(목적지)쪽으로만 프레임을 뿌림

- Filtering : 브리지를 못 넘어가게 막는다. 브릿지가 목적지의 맥주소를 알고 있고, 출발지와 목적지가 같은 세그먼트에 있는 경우에 브릿지를 건너가지 않아도 통신이 일어날 수 있다. 따라서 브릿지는 다리를 막는 Filtering을 실시한다. Filtering 때문에 허브와 다르게 콜리전 도메인을 나누어 줄 수 있다. 프레임을 발생시킨 쪽의 건너편에서 동일한 세그먼트 내에 연결된 포트를 목적지로 하는 프레임이 발생하면 마찬가지로 Filtering을 적용하게 되므로 한 세그먼트에서 통신이 일어나는 도중에도 다른 세그먼트에서도 통신이 일어날 수 있다.

- Aging : 브릿지의 테이블은 일정 시간이 지나고 나면 이 정보를 브릿지 테이블에서 지우게 된다. 다시 새로운 맥주소를 기억해야 하기 때문, "일정 시간"은 디폴트로는 5분(300초)을 뜻한다. Aging은 이것에 관련된 타이머이다. 저장한 후 300초가 지나도록 더 이상 그 출발지 주소를 가진 프레임이 들어오지 않으면 브릿지 테이블에서 삭제된다.
  - Aging타이머가 다 끝나기 전에 같은 출발지를 가진 녀석이 또 브릿지로 들어오게 되면 브릿지는 타이머를 리셋하고 처음부터 다시 카운트한다. -> Aging 타이머 리프레쉬(refresh)



>브릿지와 스위치의 차이점

- 브릿지 : 소프트웨어적으로 프레임을 처리, 포트들이 같은 속도 지원, Store-and-forward 방법만을 사용

- 스위치 : 하드웨어적으로 처리(ASIC), 서로 다른 속도를 가진 포트들을 연결해줄 수 있는 기능을 제공, Cut-through와 Store-and-forward 방식을 제공

## 루핑 Looping

- 프레임이 네트워크상에서 무한정으로 돌기 때문에 이더넷의 특성상 네트워크가 조용해야 데이터를 전송할 수 있는 다른 녀석들이 계속 네트워크가 조용해질 때까지 기다리기만 하고 데이터 전송은 불가능한 상태

- ... 계속됩니다