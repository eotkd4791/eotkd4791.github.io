---
title: "네트워크"
categories:
  - Network
tags:
  - Network
comments:
  - true
---


## 네트워크 (Network)

- 정보와 자원의 공유를 위해서 서로 연결하는 것


## 인터넷 (Internet)

- 여러 개의 네트워크를 묶은 것

- 하나의 프로토콜 (TCP/IP)만을 사용

- 프로토콜 : 통신규약 -> 네트워크 언어라고 볼 수 있다.

- 인트라넷 : 내부의 네트워크, **TCP/IP**라는 프로토콜을 사용한다 인터넷과 차이가 없지만, 사용이 허가된 사람만 접속 가능


## LAN (Local Area Network)

- 어느 한정된 공간에서 네트워크를 구성

- WAN : Wide Area Network -> 멀리 떨어진 지역을 서로 연결하는 경우에 사용


## 이더넷 (Ethernet)

- Ethernet : 네트워킹의 한 방식

- 우리나라에서 사용하고 있는 네트워킹의 방식 대부분

- **CSMA/CD** 라는 프로토콜을 사용한다.

- Carrier Sense Multiple Access / Collision Detection

1. 지금 네트워크 상에 통신이 일어나고 있는지 확인 -> Carrier Sense를 감지

2. 누군가가 네트워크 상에서 통신을 하고 있으면 대기한다.

3. 그러다가 통신이 없어지면 데이터를 네트워크로 보낸다.

4. 만약 네트워크 상에서 두 개 이상의 PC나 서버가 눈치를 살피고 있다가 동시에 네트워크 상에 데이터를 실어보내는 경우 ->다중 접근 (Multiple Access)

5. 2개 이상의 장비가 데이터를 보내려다가 충돌이 발생하는 부딪히는 경우 -> 충돌 (Collsion)

6. 이더넷에서 데이터를 네트워크에 실어서 보내고 나서도 충돌이 발생하지 않았는지를 잘 점검해야한다->충돌 감지(Collision Detection)

7. 충돌이 발생하면 데이터를 전송했던 PC들은 랜덤한 시간 동안 기다렸다가 다시 데이터 전송

8. 충돌이 발생하면 재전송을 반복하다가 15번 이상 충돌이나면 그냥 포기한다.


## 토큰링 (TokenRing)

- 이더넷과 다르게 자기 맘대로 데이터를 보내는 것이 아니라 한 네트워크 안에서 오직 한 PC, 즉 토큰을 가지고 있는 PC만이 네트워크에 데이터를 실어 보낼 수 있다.

- 데이터를 다 보내고 나면 바로 옆 PC에 토큰을 건네주게 된다.

- 토큰링에서는 당연히 충돌이 발생하지 않는다.

- 하지만 내가 바로 보내야할 데이터가 있고, 다른 PC들은 보낼 데이터가 하나도 없다고 하더라도 차례가 올 때 까지 계속 기다려야 한다.


## UTP케이블 (Unshielded Twisted-Pair Cable)

- STP케이블 Shielded Twisted-Pair -> 케이블ㄹ 주위를 어떤 절연체로 감싸서 만든 것

- 우리는 보통 UTP를 쓴다 STP는 좀 더 비싸고 성능이 좋다.

- STP는 주로 토큰링쪽에 많이 쓰인다.

- 카테고리
1. 카테고리 1: 전화망

2. 카테고리 2: 최대 4Mbps 속도로 전송할 수 있다.

3. 카테고리 3: 10 Base T 네트워크에 사용되는 케이블 UTP케이블

4. 카테고리 4: 토큰링 네트워크에서 사용되는 케이블

5. 카테고리 5: 최대 전송 속도 100Mbps를 지원하는 Fast Ethernet용

6. 카테고리 6: 가장 많은 종류

7. 카테고리 7: 10Gbps 속도 이상을 지원하기 위한 케이블 앞으로 많이 사용될 예정

- 10 Base T에서 10이라는 숫자는 **속도**를 나타낸다 10M의 속도

- Baseband와 Broadband가 있는데 베이스밴드는 디지털 방식이고, 브로드밴드는 아날로그 방식이다.

- 10 Base 5에서 맨 뒤에 나오는 숫자는 최대 통신거리 최대 500미터까지 가능하다는 말

1. 10 Base 2 : 10Mbps속도로 통신이 가능하고, 최대 200미터까지 전송이 가능한 케이블 (Thin케이블), BNC커넥터

2. 10 Base 5 : 10Mbps,500미터 (Thick케이블 or Yellow케이블)

3. 1000 Base T : 1000Mbps속도로 UTP케이블을 통해 전송, 최대거리는 100미터 카테고리 5케이블을 사용한다. 기가비트용 UTP케이블이 카테고리 5로 결정되었다 이렇게 구성되기 위해서는 4페어(8가닥)를 모두 사용


## 맥 주소 (MAC Address)

1. Media Access Control 미디어 액세스 컨트롤

2. 통신을 위해서는 서로를 구분할 일종의 주소가 필요함 -> MAC주소

3. TCP/IP통신을 하고 통신을 위해서 IP주소를 사용하고, MAC주소도 사용한다.

4. ARP(Address Resolution Protocol)를 통해서 IP주소를 MAC주소로 바꿈

5. Physical Address 물리적 주소 = 맥 어드레스 // Logical Address 논리적 주소

6. 통신하고 싶은 PC의 MAC주소를 알아내기 위해서 모든 PC에 메시지를 보냄(ARP)

7. MAC주소를 알아낸 후에 통신 시작

8. 통신하고 싶은 PC가 한 네트워크 상에 없으면 라우터는 자신의 맥 주소를 보내준다.

9. 따라서 라우터의 맥주소로 정보를 보내고, 라우터는 자기 네트워크 안에 있는 PC의 맥주소를 찾아서 해당 PC의 맥주소를 전달한다.

10. 맥주소는 48비트(6옥텟)의 주소를 갖게되는데, 이는 네트워크 장비나 랜카드에 고정되어 있는 주소이며, 유일한 주소이다. 하드웨어 주소라고도 한다. 하이픈(-)이나 콜론(:),점(.)으로 구분되기도 한다 이진수는 너무 길고 복잡하기 때문에 16진수로 표시한다. 이진수 4자리를 묶어서 16진수 한 자리를 만든다.

11. 이 때 주소에서 앞쪽 6개(24bits)의 16진수는 벤더(생산자)를 나타내고, 이것을 OUI(Organizational Unique Identifier)라고 한다 이 코드는 메이커에 따라 다르다.

12. 나머지 뒤에 오는 6자리 수(24bits)가 메이커에서 각 장비에 분해하는 Host Identifier 시리얼 넘버이다.


## 유니캐스트, 브로드캐스트, 멀티캐스트

1. 유니캐스트(Unicast)

- 편지를 보내는 방식과 같다.

- 어떤 PC가 유니캐스트 프레임을 뿌리게 되면, 어차피 로컬 이더넷의 기본 성격이 붙어있는 모든 PC들에게 정보를 뿌리는 Shared방식이기 때문에 그 로컬 네트워크 상에 있는 모든 PC들은 일단 이 프레임을 받아들여서 랜카드에서 자신의 맥주소와 비교하게 된다(여기서 자신의 맥주소 = 랜카드의 맥주소)

- 자신의 랜카드 맥주소와 목적지 맥주소가 서로 다른 경우는 바로 그 프레임을 버린다 -> 이러한 특성으로 인해서 해당 PC의 CPU까지는 영향을 주지 않기 때문에 PC의 성능이 저하되는 일은 발생하지 않는다.

- 만약 목적지 주소가 자신의 맥주소와 같으면 랜카드는 프레임을 CPU로 올려 보낸다.

- 현재 네트워크 상에서 가장 많이 사용되는 통신 방식

- 특정 목적지의 주소 하나만을 가지고 통신한다.

- 목적지 주소가 아닌 다른 PC들의 CPU성능을 저하시키지는 않는다 ->자신의 맥주소가 아니라고 판단하면 랜카드가 프레임을 버리기 때문,,


2. 브로드캐스트(Multicast)

- 로컬 랜에 붙어 있는 모든 네트워크 장비들에게 보내는 통신

- 로컬 랜 : 라우터에 의해서 구분된 공간, 즉 브로드캐스트 도메인이라고 하는 공간을 뜻함

- 브로드캐스트 도메인 : 방송을 하면 들리는 영역

- 통신의 대상이 특정한 어떤 한 네트워크 장비가 아니고 내가 살고 있는 네트워크 안의 모든 네트워크 장비들에 통신할 때 쓰기 위한 방식 ex)동네 이장님 마이크 방송

- 자기가 받기 싫다고 해서 받지 않는 것이 아니라 무조건 받는 것

- 브로드캐스트 주소는 정해져 있다. (맥주소의 경우 FFFFFFFFFFFF)

- 자신의 맥주소와 달라도 버리지 않는다 CPU가 이 패킷을 알아서 처리

- 네트워크 상의 전체 노드로 뿌려지기 때문에 전체적인 트래픽 증가, 모든 랜카드가 이 패킷을 CPU로 전송하고, CPU는 하던 일을 멈추고 또 다른 일을 해야하며, 이에 따라 전체 PC성능도 떨어지게 된다.

- 상대편의 맥주소를 모를 때, 맥주소를 알아내기 위해서 하는 동작이 바로 ARP이며 이것이 브로드캐스트이다.

- ex)우리 동네에 사는 모든 사람들에게 이 IP주소 가진 사람 누구니 하고 브로드캐스트를 보내면 그 IP주소를 가진 사람이 맥주소를 보낸다 이 과정을 **ARP**라고 한다.

- 라우터끼리 정보를 교환하거나 다른 라우터를 찾을 때, 서버들이 자신이 어떤 서비스를 제공한다는 것을 알릴 때 사용

- 꼭 필요하지만 많아지면 문제가 된다.

- 브로드캐스트가 발생하면 PC가 자신의 맥주소와 달라도 프레임을 버리지 않고 CPU에게 전달하면서 **인터럽트**를 건다.

>유니캐스트는 아무리 많은 패킷을 발생시켜도 CPU의 성능은 저하되지 않지만, 브로드캐스트는 패킷을 많이 발생시킨 경우 그 패킷의 수가 많아질수록 CPU성능이 떨어진다.

1. 멀티캐스트(Multicast)

- 전체가 아닌 특정 다수에게 정보를 보낼 때 사용한다.

- 유니캐스트를 사용하는 경우: 같은 데이터를 PC갯수 만큼 반복해서 보내야하기 때문에 트래픽을 가중시키게 됨

- 브로드캐스트를 사용하는 경우: 모든 사용자에게 보내기 때문에 유니캐스트처럼 반복해서 보내지는 않지만, 이 정보를 받을 필요가 없는 나머지 PC에게도 보내게 된다 따라서 PC성능 저하를 야기한다.

- 위의 두가지 경우에서 발생하는 문제를 해결하기 위해 "멀티캐스트"를 사용한다.

- 정보를 받아야 하는 특정 다수에게 정보를 전송한다. 하지만, **라우터나 스위치에서 이 기능을 지원해 주어야만 사용 가능**


## OSI 7 Layer (Open Systems Interconnection 7 Layer)

- 통신에 관한 국제적인 표준기구인 ISO(International Organization for Standardiztion)에서 만들었다.

- 통신이 일어나는 과정을 7단계로 나눔

1. 응용 계층 Application Layer

2. 표현 계층 Presentation Layer

3. 세션 계층 Session Layer

4. 전송 계층 Transport Layer
- 플로 컨트롤, 에러 복구 -> 에러 복구를 위해 패킷을 재전송하거나 플로를 조절해서 데이터가 정상적으로 전송되게 함

- TCP, UDP가 이 계층에 속함

- 통신 단위 : 세그먼트

5. 네트워크 계층 Network Layer

- 데이터를 목적지까지 안전하고 빠르게 전달 -> "라우팅" 이라고 한다.

- 경로를 선택하고, 주소를 정하며, 경로에 따라 패킷을 전달

- 통신 단위 : 패킷

- 장비 : 라우터

6. 데이터 링크 계층 Data Link Layer

- 물리 계층을 통하여 송/수신 되는 정보의 오류와 흐름을 관리하여 안전한 정보의 전달을 수행할 수 있도록 도와줌

- 오류 찾아주고 재전송, 맥주소를 가지고 통신을 할 수 있게 해줌

- 통신 단위 : 프레임

- 장비 : 브리지, 스위치

7. 물리 계층 Physical Layer

- 전기적, 기계적, 기능적인 특성을 이용해서 통신 케이블로 데이터를 전송

- 통신 단위 : 비트 -> 1,0으로 on & off를 나타낸다.

- 장비 : 통신 케이블, 리피터, 허브


**계층을 나눈 이유**

- 데이터가 어떻게 날아가는지 보기 쉬움

- 문제를 해결하기가 편리함

- 여러 회사 장비를 써도 네트워크가 이상 없이 돌아감

**헤더**

>비행기 탑승/하기 절차에 비유한다.

1. 짐(보내고자 하는 데이터 Info)을 부친다.

2. 짐을 부친 표시(헤더 A)가 Info에 붙는다. -> AInfo를 하나의 정보라고 보고 다음 과정 진행

3. 탑승 수속(헤더 B)을 한다. -> BAInfo

4. 비행(목적지인 PC로 이동)한다.

5. 입국 수속(헤더 B를 제거)한다. -> AInfo

6. 짐을 찾는다. (헤더 A를 제거) -> "Info"

**자신이 생각하는 전송 속도가 제대로 나오지 않은 건 이런 여러 가짖 정보가 원래 데이터에 붙기 때문**


## 프로토콜 (Protocol)

>통신 규약, 컴퓨터끼리 서로 통신하기 위해서 꼭 필요한 서로 간의 통신 규약 또는 통신 방식에 대한 약속. 프로토콜이 서로 같을 때에만 통신이 가능

- 모든 PC는 인터넷을 사용하기 위해서 TCP/IP라는 프로토콜을 쓴다.

- 인터넷에서는 쓰이는 프로토콜 "TCP/IP"

- IPX (Internetwork Packet eXchange) 등 수많은 프로토콜이 있다.


## TCP/IP (Transmission Control Protocol / Internet Protocol)

- 각각의 네트워크에 접속되는 호스트들은 고유의 주소를 가지고 있어서 자신이 속해 있는 네트워크뿐만 아니라 다른 네트워크에 연결되어 있는 호스트까지도 서로 데이터를 주고 받을 수 있도록 만들어져 있다.

- 이때 사용하는 호스트들의 주소는 InterNIC(Internet Network Information Center)라는 단체에서 관리/분배

- IP계층을 사용하면서 그 위에 사용하는 프로토콜을 TCP로 사용한다는 의미

- IP는 TCP/IP계층 구조에서는 인터넷 계층에 속하는데, OSI 7계층으로는 네트워크 계층에 속하고, TCP는 TCP/IP계층 구조에서도 전송 계층에 속하는데, OSI 7계층에서도 전송 계층에 속함

*TCP/IP Layer*

1. 응용 계층 (Telnet, FTP, HTTP..)

2. 전송 계층 (TCP,UDP)

3. 인터넷 계층 (IP)

4. 네트워크 액세스 계층 (Network Driver, Hardware)


## IP주소

- IP주소는 전 세계에서 유일하게 나만 가짐

- IP주소는 한정되어 있고, 대부분을 사용해버림 -> 내부 네트워크에서는 공인되지 않은 IP주소 사용, 인터넷으로 나갈 때만 공인 주소(유일한 IP주소)를 가지고 나가는 NAT(Network Address Translation)방식 or 동일한 IP주소를 가지고 여러 명이 인터넷에 접속하면서 포트 넘버만을 바꾸는 PAT 등이 사용됨

- 전 세계에 이런 공인 주소를 관리/분배 하는 기관 -> NIC(Network Information Center)

- IP주소는 네 자리의 십진수이고 중간에 점(.)으로 구분한다.

- 0 ~ 255까지 가능.. why? 십진수 한 자리당 8자리의 이진수(총 32자리의 이진수)로 만들어졌다. -> 8자리의 이진수로 만들 수 있는 가장 큰수 = 255,,

- 2의 32승개 만큼 있는 IP주소도 이제 얼마 안 남아있다 -> 해결책 : IPv6,,

- 기존의 IPv4 버전은 4개의 옥텟으로 이루어져 있는데 IPv6은 6개의 옥텟으로 이루어져서 128개의 이진수로 이루어져 있다.


## DHCP (Dynamic Host Configuration Protocol)

- IP주소를 자동으로 배정

- 네트워크에서 모든 IP주소는 아래 있는 DHCP 서버가 가지고 있다가 클라이언트 PC가 켜지면서 네트워크에 브로드캐스트를 뿌림

- DHCP 서버는 그 요청을 듣고 클라이언트에 자신이 관리하는 IP주소 중 하나를 준다.

- DHCP는 PC마다 하나하나 IP주소를 미리 지정해 놓지 않고 DHCP 서버가 그 네트워크에 필요한 IP주소를 전부 가지고 있다가 IP주소를 요구하는 PC에는 그때그때 자동으로 분배해주는 방식, 다 쓰고 난 IP주소는 회수한다.


## 랜카드 (NIC : Network Interface Card)

- 유저의 데이터를 케이블에 실어서 허브나 스위치, 혹은 라우터 등으로 전달해주고 자신에게 온 데이터를 CPU에게 전달해주는 역할 수행

- 
